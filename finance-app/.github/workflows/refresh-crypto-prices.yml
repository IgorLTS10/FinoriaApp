name: Refresh Crypto Prices

on:
  # ⏰ Cron: tous les jours à 02:00 UTC (3h/4h du matin en France selon la saison)
  schedule:
    - cron: "0 2 * * *"
  # Optionnel: permet de lancer le job à la main depuis l'onglet Actions
  workflow_dispatch: {}

jobs:
  call-vercel-endpoint:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Finoria crypto price refresh
        run: |
          curl -X POST \
            -H "Content-Length: 0" \
            https://finoria-app.vercel.app/api/crypto/prices
